  // Implementation of URLRequest::Delegate methods.
  void OnReceivedRedirect(URLRequest* request,
                          const RedirectInfo& redirect_info,
                          bool* defer_redirect) override {
    // HTTP status codes returned by HttpStreamParser are filtered by
    // WebSocketBasicHandshakeStream, and only 101, 401 and 407 are permitted
    // back up the stack to HttpNetworkTransaction. In particular, redirect
    // codes are never allowed, and so URLRequest never sees a redirect on a
    // WebSocket request.
    NOTREACHED();
  }